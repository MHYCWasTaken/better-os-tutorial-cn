---
layout: default
title: 09. Content
nav_order: 99
parent: 09-32位gdt
---
*您可能需要事先搜索的概念：GDT*


**目标：规划GDT**


还记得第6课的分段吗？偏移量左移以解决额外的间接级别。


在32位模式下，分段工作方式不同。现在，偏移量变成GDT中段描述符（SD）的索引。

此描述符定义基址（32位）、大小（20位）和一些标志，如只读、权限等。为了增加混淆，数据结构被分割，

所以打开 os-dev.pdf 文件，并查看第34页的图或GDT的维基百科页面。


编程GDT的最简单方法是定义两个段，一个用于代码

另一个用于数据。这些可以重叠，这意味着没有存储器保护，

但它已经足够好了，我们稍后将用更高级的语言修复它。


出于保险考虑，第一个GDT条目必须为“0x00”，以确保

程序员在管理地址时没有犯任何错误。


此外，CPU不能直接加载GDT地址，但需要

一种称为“GDT描述符”的元结构，其大小（16b）和地址

（32b）我们的实际GDT。它加载了“lgdt”操作。


让我们直接跳到汇编中的GDT代码。再次，理解

所有段标志都参考os-dev.pdf文档。理论这一课相当复杂。


在下一课中，我们将切换到32位保护模式

并从这些课程中测试我们的代码。 


> 感觉。。似乎。。没什么号注解的。。。