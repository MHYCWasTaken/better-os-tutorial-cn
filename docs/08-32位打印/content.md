---
layout: post
title: 08. Content
nav_order: 99
parent: 08-32位打印
---

*您可能需要提前搜索的概念：32位保护模式、VGA、显存*

> 32位保护模式 : 16位的独特寻址模式导致系统内存和硬盘最多64KB，再大就找不到了
> 虽然可以通过算法的优化寻到24位，但仍旧远远不够
> 所以我们将字长扩展至32位

**目标：在32位保护模式下在屏幕上打印**


32位模式允许我们使用32位寄存器和存储器寻址，

我们有受保护的内存、虚拟内存和其他优势，但我们将失去BIOS中断，我们需要对GDT进行编码（稍后将对此进行更多介绍）

在本课中，我们将编写一个新的打印字符串例程，在32位模式下，我们没有BIOS中断，通过直接操作而不是调用“int 0x10”。

VGA内存启动在地址“0xb8000”处，它具有文本模式，这有助于避免操作直接像素。

访问80x25网格上特定字符的公式为：


`0xb8000+2*（行*80+列）`


也就是说，每个字符使用2个字节（一个用于ASCII，另一个用于颜色等），我们看到内存的结构连接在一起排。


打开 `32bit-print.asm` 查看代码。它将始终打印字符串在屏幕的左上角，但很快我们将编写更高级的例程以取代它。


不幸的是，我们还不能从引导加载程序调用此例程，因为我们仍然不知道如何编写GDT并进入保护模式。一旦你已经理解了代码，跳到下一课。